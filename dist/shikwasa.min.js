var Shikwasa=function(){'use strict';var m=Math.max,n=Math.min;function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function b(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function c(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}function d(a,b){return e(a)||f(a,b)||g()}function e(a){if(Array.isArray(a))return a}function f(a,b){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(a){var b=Math.floor,c=Math.round;a=c(a);var d=b(a/3600),e=b((a-3600*d)/60),f=b(a-3600*d-60*e);return e=10>e?"0"+e:e,f=10>f?"0"+f:f,0===d?(d=10>d?"0"+d:d,"".concat(e,":").concat(f)):"".concat(d,":").concat(e,":").concat(f)}function i(a){var b=parseFloat(a).toFixed(2);return"0"===b.slice(-1)?b.slice(0,-1):b}function j(a){function b(){a.style.transitionDuration="".concat(g/1e3,"s"),a.style.transform="translateX(-".concat(e,"px)"),c=setTimeout(function(){a.style.transform="translateX(0px)"},h)}var c,d,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3,g=50*e,h=g+f;return b(),d=setInterval(function(){return b()},2*h),[c,d]}function k(a){a.container=document.querySelector(a.container?a.container:r.container),a.fixed=a.fixed||r.fixed,a.download="boolean"==typeof a.download?a.download:r.download;var b=["auto","static","fixed"].filter(function(b){return b===a.fixed.type})[0];return b||(a.fixed.type=r.fixed.type),a.themeColor=a.themeColor||r.themeColor,a.autoPlay=a.autoPlay||r.autoPlay,a.muted=a.muted||r.muted,a.preload=a.preload||r.preload,a.speedOptions=a.speedOptions||r.speedOptions,Array.isArray(a.speedOptions)||(a.speedOptions=[a.speedOptions]),a.speedOptions.includes(1)||a.speedOptions.push(1),a.speedOptions=a.speedOptions.map(function(a){return parseFloat(a)}).filter(function(a){return!isNaN(a)}),1<a.speedOptions.length&&a.speedOptions.sort(function(c,a){return c-a}),a.audio?(a.audio.title=a.audio.title||"Unknown Title",a.audio.artist=a.audio.artist||"Unknown Artist",a.audio.cover=a.audio.cover||null,a.audio.duration=a.audio.duration||0):console.error("audio is not specified"),a}function l(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length?arguments[2]:void 0;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:a.title,artist:a.artist,artwork:[{src:a.cover}]}),Object.entries(b).length&&b.constructor===Object&&Object.keys(b).forEach(function(a){navigator.mediaSession.setActionHandler(a,b[a].bind(c))}))}var o,p,q,r={container:"body",fixed:{type:"auto",position:"bottom"},download:!1,themeColor:"#00869B",autoPlay:!1,muted:!1,preload:"metadata",speedOptions:[.5,.75,1.25,1.5],audio:null},s=function(){function b(c){a(this,b),this.mounted=!1;var d=document.querySelector(".shk_icons");d||(this.icons=document.createElement("div"),this.icons.classList.add("shk_icons"),this.icons.innerHTML="<svg class=\"shk_icons\" xmlns=\"http://www.w3.org/2000/svg\"> <symbol id=\"shk_icon_play\" viewbox=\"0 0 82 82\"> <g fill=\"none\" fill-rule=\"evenodd\"> <circle stroke=\"#FFF\" stroke-width=\"2\" fill-opacity=\".3\" fill=\"#FFF\" cx=\"41\" cy=\"41\" r=\"40\"/> <path d=\"M27.8 57c-1 0-1.8-.8-1.8-1.6V27.6c0-.9.8-1.6 1.8-1.6l28.6 14.3s1.3 1.2 0 2.4-28.6 14.2-28.6 14.2z\" fill=\"#FBF9F9\"/> </g> </symbol> <symbol id=\"shk_icon_pause\" viewbox=\"0 0 82 82\"> <g fill=\"#FFFFFF\" stroke-width=\"1\" fill-rule=\"evenodd\" transform=\"translate(1.000000, 1.000000)\"> <rect id=\"shk_path_rectangle\" x=\"28\" y=\"20\" width=\"6\" height=\"40\"></rect> <use xlink:href=\"#shk_path_rectangle\" x=\"18\"></use> <circle stroke=\"#FFFFFF\" stroke-width=\"2\" fill-opacity=\"0.3\" fill-rule=\"nonzero\" cx=\"40\" cy=\"40\" r=\"40\"> </circle> </g> </symbol> <symbol id=\"shk_icon_download\" viewbox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"> <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3\"/> </symbol> <symbol id=\"shk_icon_backward\" viewbox=\"0 0 22 24\"> <path d=\"M0 12.95h2.4a8.61 8.61 0 0 0 8.6 8.63c4.75 0 8.6-3.86 8.6-8.63A8.61 8.61 0 0 0 11 4.32V1.9c6.08 0 11 4.95 11 11.05C22 19.05 17.08 24 11 24S0 19.05 0 12.95z\"/> <path d=\"M7.14 8.1h1.21v9.86h-1.6v-7.92c-.6.54-1.34.94-2.25 1.2v-1.6A5.82 5.82 0 0 0 7.14 8.1zM13.92 7.9c1.14 0 2.04.47 2.68 1.44.6.9.91 2.14.91 3.69 0 1.54-.3 2.77-.9 3.68a3.07 3.07 0 0 1-2.69 1.44 3.04 3.04 0 0 1-2.68-1.44c-.6-.9-.9-2.14-.9-3.68 0-1.55.3-2.78.9-3.7a3.01 3.01 0 0 1 2.68-1.43zm0 1.37c-.78 0-1.33.43-1.65 1.31-.22.6-.33 1.41-.33 2.45 0 1.02.11 1.83.33 2.44.32.87.87 1.31 1.65 1.31.77 0 1.32-.44 1.65-1.3.22-.62.33-1.43.33-2.45 0-1.04-.1-1.86-.33-2.45-.33-.88-.88-1.31-1.65-1.31zM2.75 3.28L11 6.56V0z\"/> </symbol> <symbol id=\"shk_icon_forward\" viewbox=\"0 0 22 24\"> <path d=\"M11 1.9v2.42a8.61 8.61 0 0 0-8.6 8.63 8.61 8.61 0 0 0 8.6 8.63c4.75 0 8.6-3.86 8.6-8.63H22C22 19.05 17.08 24 11 24S0 19.05 0 12.95C0 6.85 4.92 1.9 11 1.9z\"/> <path d=\"M7.1 8.12h1.22v9.86H6.7v-7.92c-.6.54-1.33.94-2.24 1.2v-1.6A5.82 5.82 0 0 0 7.1 8.12zM13.9 7.94c1.14 0 2.04.47 2.68 1.44.6.91.91 2.14.91 3.69 0 1.54-.3 2.77-.9 3.69a3.07 3.07 0 0 1-2.69 1.43 3.04 3.04 0 0 1-2.68-1.43c-.6-.92-.9-2.15-.9-3.7 0-1.54.3-2.77.9-3.68a3.01 3.01 0 0 1 2.68-1.44zm0 1.37c-.78 0-1.33.43-1.65 1.31-.22.6-.33 1.41-.33 2.45 0 1.02.11 1.83.33 2.44.32.87.87 1.31 1.65 1.31.77 0 1.32-.44 1.65-1.3.22-.62.33-1.43.33-2.45 0-1.04-.1-1.85-.33-2.45-.33-.88-.88-1.31-1.65-1.31zM19.25 3.28L11 6.56V0z\"/> </symbol> <symbol id=\"shk_icon_unmute\" viewbox=\"0 0 508.514 508.514\" style=\"enable-background:new 0 0 508.514 508.514;\"> <path d=\"M271.483,0.109c-5.784-0.54-12.554,0.858-20.531,5.689c0,0-132.533,115.625-138.286,121.314\n      H39.725c-17.544,0.032-31.782,14.27-31.782,31.814v194.731c0,17.607,14.239,31.782,31.782,31.782h72.941\n      c5.753,5.753,138.286,117.277,138.286,117.277c7.977,4.799,14.747,6.229,20.531,5.689c11.76-1.112,20.023-10.965,22.534-21.358\n      c0.127-1.017,0.127-464.533-0.032-465.55C291.506,11.074,283.211,1.222,271.483,0.109z\"/> <path d=\"M342.962,309.798c-7.85,3.973-10.997,13.508-7.087,21.358c2.829,5.53,8.422,8.74,14.207,8.74\n      c2.384,0,4.799-0.572,7.151-1.684c32.132-16.209,52.091-48.341,52.091-83.938s-19.959-67.728-52.091-83.938\n      c-7.85-3.973-17.385-0.795-21.358,7.056c-3.909,7.85-0.763,17.385,7.087,21.358c21.326,10.743,34.579,32.005,34.579,55.524\n      S364.288,299.055,342.962,309.798z\"/> <path d=\"M339.72,59.32c-8.486-1.716-17.004,3.941-18.593,12.522c-1.716,8.645,3.909,17.004,12.522,18.688\n      c78.312,15.256,135.139,84.128,135.139,163.743S411.962,402.761,333.65,418.017c-8.613,1.684-14.239,10.011-12.554,18.656\n      c1.494,7.596,8.136,12.84,15.542,12.84l3.083-0.318c93.218-18.148,160.851-100.147,160.851-194.922S432.938,77.5,339.72,59.32z\"/> </symbol> <symbol id=\"shk_icon_mute\" viewbox=\"0 0 508.528 508.528\" style=\"enable-background:new 0 0 508.528 508.528;\"> <path d=\"M263.54,0.116c-5.784-0.54-12.554,0.858-20.531,5.689c0,0-132.533,115.625-138.317,121.314H31.782\n      C14.239,127.15,0,141.389,0,158.933v194.731c0,17.607,14.239,31.782,31.782,31.782h72.941\n      c5.784,5.753,138.317,117.277,138.317,117.277c7.977,4.799,14.747,6.229,20.531,5.689c11.76-1.112,20.023-10.965,22.534-21.358\n      c0.095-1.017,0.095-464.533-0.064-465.55C283.563,11.081,275.268,1.228,263.54,0.116z\"/> <path d=\"M447.974,254.28l54.857-54.857c7.596-7.564,7.596-19.864,0-27.428\n      c-7.564-7.564-19.864-7.564-27.428,0l-54.857,54.888l-54.888-54.888c-7.532-7.564-19.864-7.564-27.397,0\n      c-7.564,7.564-7.564,19.864,0,27.428l54.857,54.857l-54.857,54.888c-7.564,7.532-7.564,19.864,0,27.396\n      c7.532,7.564,19.864,7.564,27.396,0l54.888-54.857l54.857,54.857c7.564,7.564,19.864,7.564,27.428,0\n      c7.564-7.532,7.564-19.864,0-27.396L447.974,254.28z\"/> </symbol> <symbol id=\"shk_icon_indicator\" viewbox=\"0 0 66 66\"> <circle cx=\"33\" cy=\"33\" r=\"30\" fill=\"transparent\" stroke=\"url(#shk_gradient)\" stroke-dasharray=\"170\" stroke-dashoffset=\"20\" stroke-width=\"6\"/> <lineargradient id=\"shk_gradient\"> <stop offset=\"50%\" stop-color=\"currentColor\"/> <stop offset=\"65%\" stop-color=\"currentColor\" stop-opacity=\".5\"/> <stop offset=\"100%\" stop-color=\"currentColor\" stop-opacity=\"0\"/> </lineargradient> </symbol> </svg> "),this.initVariable(),this.initOptions(c)}return c(b,[{key:"initVariable",value:function(){this.el=document.createElement("div"),this.el.tabIndex=0,this.el.classList.add("shk"),this.el.innerHTML="<div class=\"shk_cover\"> <div class=\"shk_img\"> </div> <button class=\"shk_btn shk_btn_toggle\" aria-label=\"toggle play and pause\"> <svg class=\"shk_btn_play\" aria-hidden=\"true\"> <use xlink:href=\"#shk_icon_play\"/> </svg> <svg class=\"shk_btn_pause\" aria-hidden=\"true\" viewbox=\"0 0 82 82\"> <g fill=\"#FFFFFF\" stroke-width=\"1\" fill-rule=\"evenodd\" transform=\"translate(1.000000, 1.000000)\"> <rect id=\"shk_path_rectangle\" x=\"28\" y=\"20\" width=\"6\" height=\"40\"></rect> <use xlink:href=\"#shk_path_rectangle\" x=\"18\"/> <circle stroke=\"#FFFFFF\" stroke-width=\"2\" fill-opacity=\"0.3\" fill-rule=\"nonzero\" cx=\"40\" cy=\"40\" r=\"40\"></circle> </g> </svg> </button> </div> <div class=\"shk_main\"> <div class=\"shk_text\"> <div> <span class=\"shk_subtitle\"></span> </div> <div> <span class=\"shk_title\"></span> </div> </div> <div class=\"shk_controls\"> <a class=\"shk_btn shk_btn_download\" aria-label=\"download audio\" title=\"download audio\" target=\"_blank\" download> <svg aria-label=\"download audio\"> <use xlink:href=\"#shk_icon_download\"/> </svg> </a> <button class=\"shk_btn shk_btn_backward\" aria-label=\"rewind 10 seconds\" title=\"rewind 10 seconds\"> <svg aria-hidden=\"true\"> <use xlink:href=\"#shk_icon_backward\"/> </svg> </button> <button class=\"shk_btn shk_btn_forward\" aria-label=\"forward 10 seconds\" title=\"forward 10 seconds\"> <svg aria-hidden=\"true\"> <use xlink:href=\"#shk_icon_forward\"/> </svg> </button> <button class=\"shk_btn shk_btn_speed\" aria-label=\"toggle playback rate\" title=\"change playback rate\" aria-live=\"polite\">1.0x</button> <button class=\"shk_btn shk_btn_volume\" aria-label=\"toggle volume\" title=\"toggle volume\"> <svg class=\"shk_btn_unmute\" aria-hidden=\"true\"> <use xlink:href=\"#shk_icon_unmute\"/> </svg> <svg class=\"shk_btn_mute\" aria-hidden=\"true\"> <use xlink:href=\"#shk_icon_mute\"/> </svg> </button> </div> <div class=\"shk_bar-wrap\"> <div class=\"shk_bar\" aria-label=\"progress bar\"> <div class=\"shk_bar_played\" aria-label=\"played progress\"> <span class=\"bar-handle\" aria-label=\"progress bar handle\"></span> </div> <div class=\"shk_bar_loaded\" aria-label=\"loaded progress\"></div> </div> </div> <div class=\"shk_bottom\"> <span class=\"shk_loader\" aria-live=\"polite\"> <span class=\"shk_visuallyhidden\" tabindex=\"-1\">loading</span> <svg aria-hidden=\"true\" aria-label=\"loading\" aria-live=\"polite\" viewbox=\"0 0 66 66\"> <circle cx=\"33\" cy=\"33\" r=\"30\" fill=\"transparent\" stroke=\"url(#shk_gradient)\" stroke-dasharray=\"170\" stroke-dashoffset=\"20\" stroke-width=\"6\"/> <lineargradient id=\"shk_gradient\"> <stop offset=\"50%\" stop-color=\"currentColor\"/> <stop offset=\"65%\" stop-color=\"currentColor\" stop-opacity=\".5\"/> <stop offset=\"100%\" stop-color=\"currentColor\" stop-opacity=\"0\"/> </lineargradient> </svg> </span> <span class=\"shk_time\"> <span class=\"shk_time_now\">--:--</span><span class=\"shk_time_duration\">--:--</span> </span> </div> </div> ",this.playBtn=this.el.querySelector(".shk_btn_toggle"),this.downloadBtn=this.el.querySelector(".shk_btn_download"),this.fwdBtn=this.el.querySelector(".shk_btn_forward"),this.bwdBtn=this.el.querySelector(".shk_btn_backward"),this.speedBtn=this.el.querySelector(".shk_btn_speed"),this.muteBtn=this.el.querySelector(".shk_btn_volume"),this.artist=this.el.querySelector(".shk_subtitle"),this.texts=this.el.querySelector(".shk_text"),this.title=this.el.querySelector(".shk_title"),this.subtitle=this.el.querySelector(".shk_subtitle"),this.currentTime=this.el.querySelector(".shk_time_now"),this.duration=this.el.querySelector(".shk_time_duration"),this.bar=this.el.querySelector(".shk_bar"),this.barWrap=this.el.querySelector(".shk_bar-wrap"),this.audioPlayed=this.el.querySelector(".shk_bar_played"),this.audioLoaded=this.el.querySelector(".shk_bar_loaded"),this.handle=this.el.querySelector(".bar-handle"),this.cover=this.el.querySelector(".shk_img")}},{key:"initOptions",value:function(a){this.el.style="--theme-color: ".concat(a.themeColor),this.el.style.boxShadow="0px 0px 14px 6px ".concat(a.themeColor,"20"),this.audioPlayed.style.color=a.themeColor+"70",a.autoPlay?this.el.classList.add("Play"):this.el.classList.add("Pause"),a.download&&a.audio&&a.audio.src?this.downloadBtn.href=a.audio.src:this.downloadBtn.remove(),"static"!==a.fixed.type&&("fixed"===a.fixed.type?this.el.classList.add("Fixed"):this.el.classList.add("Auto"),"top"===a.fixed.position&&this.el.classList.add("Top")),a.muted&&this.el.classList.add("Mute"),a.audio&&this.update(a.audio)}},{key:"update",value:function(a){this.cover.style.backgroundImage="url(".concat(a.cover,")"),this.title.innerHTML=a.title,this.mounted&&this.textScroll(),this.artist.innerHTML=a.artist,this.currentTime.innerHTML="00:00",this.duration.innerHTML=a.duration?h(a.duration):"00:00",this.downloadBtn.href=a.src}},{key:"textScroll",value:function(){p&&(clearInterval(p),clearTimeout(o));var a=this.title.offsetWidth-this.texts.offsetWidth;if(0<a){var b=j(this.title,a),c=d(b,2);o=c[0],p=c[1]}else this.title.style.transform="none",this.title.style.transitionDuration="0s"}},{key:"mount",value:function(a){a.innerHTML="",a.append(this.el),this.icons&&a.append(this.icons),this.mounted=!0,this.textScroll()}},{key:"destroy",value:function(){clearInterval&&(clearInterval(p),clearTimeout(o))}}]),b}(),t=function(){function b(c){a(this,b),this.audioPlayed=c.audioPlayed,this.audioLoaded=c.audioLoaded}return c(b,[{key:"set",value:function(a,b){b=n(b,1),b=m(b,0),this[a].style.width=100*b+"%"}}]),b}(),u=function(){function b(){a(this,b),this.audioEvents=["abort","canplay","canplaythrough","complete","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.events={}}return c(b,[{key:"on",value:function(a,b){this.audioEvents.includes(a)&&"function"==typeof b?(!this.events[a]&&(this.events[a]=[]),this.events[a].push(b)):console.error("invalid event name or callback function")}},{key:"trigger",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.events[a]&&this.events[a].length&&this.events[a].forEach(function(a){return a(b)})}}]),b}(),v=[],w="undefined"!=typeof window&&/mobile/i.test(window.navigator.userAgent),x=w?"touchstart":"mousedown",y=w?"touchmove":"mousemove",z=w?"touchend":"mouseup",A=function(){function b(c){a(this,b),this.id=v.length,v.push(this),this.inited=!1,this.canplay=!1,this.dragging=!1,this.options=k(c),this.muted=this.options.muted,this.initUI(),this.initKeyEvents(),this.currentSpeed=1,this.events=new u,this.initAudio(),this.template.mount(this.options.container)}return c(b,[{key:"initUI",value:function(){this.template=new s(this.options),this.el=this.template.el,this.bar=new t(this.template),this.initButtonEvents(),this.initBarEvents()}},{key:"initButtonEvents",value:function(){var a=this;this.template.playBtn.addEventListener("click",function(){a.toggle()}),this.template.muteBtn.addEventListener("click",function(){a.muted=!a.muted,a.el.classList.toggle("Mute"),a.audio&&(a.audio.muted=a.muted)}),this.template.fwdBtn.addEventListener("click",function(){a.seekForward()}),this.template.bwdBtn.addEventListener("click",function(){a.seekBackward()}),this.template.speedBtn.addEventListener("click",function(){var b=a.options.speedOptions.indexOf(a.currentSpeed),c=a.options.speedOptions;a.currentSpeed=b+1>=c.length?c[0]:c[b+1],a.template.speedBtn.innerHTML=i(a.currentSpeed)+"x",a.audio&&(a.audio.playbackRate=a.currentSpeed)})}},{key:"initBarEvents",value:function(){var a,b=this,c=function(c){var d=c.clientX||c.changedTouches&&c.changedTouches[0].clientX||0,e=(d-b.template.barWrap.getBoundingClientRect().left)/b.template.barWrap.clientWidth;e=n(e,1),e=m(0,e),a=e*b.duration,b.setDisplayAndBarByTime(a)},d=function d(){b.dragging=!1,b.el.classList.remove("Seeking"),b.seek(a),document.removeEventListener(y,c),document.removeEventListener(z,d)},e=function(d){b.dragging||(c(d),b.seek(a))};this.template.barWrap.addEventListener(z,e),this.template.handle.addEventListener(x,function(){b.el.classList.add("Seeking"),b.dragging=!0,document.addEventListener(y,c),document.addEventListener(z,d)})}},{key:"initKeyEvents",value:function(){var a=this;this.el.addEventListener("keyup",function(b){if(32===b.keyCode){var c=document.activeElement;c.classList.contains("shk_btn_toggle")||a.toggle()}})}},{key:"initAudio",value:function(){var a=this;this.options.audio.src&&(this.audio=new Audio,this.audio.title=this.options.audio.title,this.initLoadingEvents(),this.initAudioEvents(),this.events.audioEvents.forEach(function(b){a.audio.addEventListener(b,function(c){a.events.trigger(b,c)})}),"none"!==this.options.preload&&(this.updateAudio(this.options.audio.src),this.inited=!0))}},{key:"initAudioEvents",value:function(){var a=this;this.on("play",function(){a.el.classList.contains("Pause")&&a.setUIPlaying(),v.forEach(function(b){b.id!==a.id&&b.audio&&!b.audio.paused&&b.pause()})}),this.on("pause",function(){a.el.classList.contains("Play")&&a.setUIPaused()}),this.on("ended",function(){a.setUIPaused(),a.seek(0)}),this.on("durationchange",function(){1!==a.duration&&(a.template.duration.innerHTML=h(a.duration))}),this.on("progress",function(){if(a.audio.buffered.length){var b=a.audio.buffered.length?a.audio.buffered.end(a.audio.buffered.length-1)/a.duration:0;a.bar.set("audioLoaded",b)}}),this.on("timeupdate",function(){a.dragging||a.setDisplayAndBarByTime(a.audio.currentTime)})}},{key:"initLoadingEvents",value:function(){var a=this;this.on("canplaythrough",function(){a.el.classList.contains("Loading")&&a.el.classList.remove("Loading")}),this.on("waiting",function(){a.el.classList.contains("Loading")||a.el.classList.add("Loading")}),this.on("canplay",function(){a.canplay||(a.canplay=!0,q&&a.seek(q))})}},{key:"on",value:function(a,b){this.events.on(a,b)}},{key:"setDisplayAndBarByTime",value:function(a){a=a||0;var b=a/this.duration||0;this.template.currentTime.innerHTML=h(a),this.bar.set("audioPlayed",b)}},{key:"setUIPlaying",value:function(){this.el.classList.add("Play"),this.el.classList.remove("Pause")}},{key:"setUIPaused",value:function(){this.el.classList.add("Pause"),this.el.classList.remove("Play"),this.el.classList.remove("Loading")}},{key:"play",value:function(a){var b=this;if(this.inited||(this.audio.src=this.options.audio.src,this.inited=!0),a&&a.src&&(this.template.update(a),this.updateAudio(a.src)),!!this.audio.paused){var c=this.audio.play(),d=this,e=a||this.options.audio,f={play:this.play,pause:this.pause,seekforward:this.seekForward,seekbackward:this.seekBackward};c instanceof Promise?(c.then(function(){l(e,f,d)}),c.catch(function(a){("NotAllowedError"===a.name||"NotSupportedError"===a.name)&&b.pause()})):l(e,f,d)}}},{key:"pause",value:function(){this.audio.paused||this.audio.pause()}},{key:"toggle",value:function(){this.inited||(this.audio.src=this.options.audio.src,this.inited=!0),this.audio.paused?this.play():this.pause()}},{key:"seek",value:function(a){var b=parseInt(a);return isNaN(b)?void console.error("seeking time is NaN"):void(b=n(b,this.duration),b=m(b,0),this.setDisplayAndBarByTime(b),this.canplay?this.audio&&(this.audio.currentTime=b):q=a)}},{key:"seekForward",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,b=n(this.duration,this.audio.currentTime+a);this.seek(b)}},{key:"seekBackward",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,b=m(0,this.audio.currentTime-a);this.seek(b)}},{key:"updateAudio",value:function(a){this.audio.src=a,this.audio.preload=this.options.preload,this.audio.muted=this.muted,this.options.autoplay&&this.muted&&(this.audio.autoplay=this.options.autoPlay),this.audio.playbackRate=this.currentSpeed}},{key:"destroyAudio",value:function(){this.audio.pause(),this.audio.src="",this.audio.load(),this.audio=null}},{key:"destroy",value:function(){this.destroyAudio(),this.template.destroy(),this.options.container.innerHTML=""}},{key:"duration",get:function(){return this.audio&&this.audio.src?isNaN(this.audio.duration)?this.options.audio.duration:this.audio.duration:this.options.audio.duration}},{key:"currentTime",get:function(){return this.audio?this.audio.currentTime:void 0}}]),b}();return console.log("%c\uD83C\uDF4A%c Shikwasa Podcast Player v1.0.7 %c https://jessuni.github.io/shikwasa/","background-color:#00869B40;padding:4px;","background:#00869B80;color:#fff;padding:4px 0","padding: 2px 0;"),A}();
